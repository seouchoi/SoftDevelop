<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Join</title>
<style>
    table {
        width: 280px;
        height: 550px;
        margin: auto;
    }
    .email, .text, .tel-text {
        font-size: 15px;
        border: 0;
        border-radius: 15px;
        outline: none;
        padding-left: 10px;
        background-color: rgb(233,233,233);
    }
    .email { width: 127px; height: 32px; }
    .text { width: 250px; height: 32px; }
    .tel-container { display: flex; justify-content: space-between; width: 250px; }
    .tel-text { width: 75px; height: 32px; }
    select {
        width: 100px;
        height: 32px;
        font-size: 15px;
        border-radius: 15px;
        outline: none;
        padding-left: 10px;
    }
    .btn {
        width: 262px;
        height: 32px;
        font-size: 15px;
        border: 0;
        border-radius: 15px;
        background-color: rgb(164, 199, 255);
    }
    .btn:active { background-color: rgb(61, 135, 255); }
</style>
<script>
    function updateTasks() {
        const category = document.querySelector('.category').value;
        const taskSelect = document.querySelector('.task');

        taskSelect.innerHTML = '';

        const defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = '선택';
        taskSelect.appendChild(defaultOption);

        const taskOptions = {
            "AI": ["기획자", "엔지니어"],
            "IT": ["기획자", "개발자","UI/UX 디자이너"],
            "기계/제조": ["기획자", "엔지니어", "품질관리"],
            "전기/전자": ["기획자", "설계 엔지니어", "개발자"],
            "재료/나노": ["기획자", "엔지니어", "개발자"],
            "생명과학/생명공학": ["기획자", "데이터 분석", "실험 관리자"],
            "에너지/환경": ["기획자", "엔지니어", "데이터 분석"],
            "건축/토목": ["기획자", "설계 엔지니어"],
            "항공/우주": ["기획자", "엔지니어", "개발자"],
            "로봇공학/자동화": ["기획자", "하드웨어 엔지니어", "소프트웨어 엔지니어"],
            "화학공학": ["기획자", "공정설계", "실험 관리자"],
            "자연과학": ["기획자", "연구원", "자료 분석가"]
        };

        if (taskOptions[category]) {
            taskOptions[category].forEach(task => {
                const option = document.createElement('option');
                option.value = task;
                option.textContent = task;
                taskSelect.appendChild(option);
            });
        } else {
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = '선택';
            taskSelect.appendChild(defaultOption);
        }
    }

    function validateForm() {
        const id = document.querySelector('input[type="text"]').value;
        const password = document.querySelector('input[type="password"]').value;
        const passwordConfirm = document.querySelectorAll('input[type="password"]')[1].value;
        const name = document.querySelectorAll('input[type="text"]')[1].value;
        const telPart1 = document.querySelector('.tel-text').value;
        const telPart2 = document.querySelectorAll('.tel-text')[1].value;
        const telPart3 = document.querySelectorAll('.tel-text')[2].value;
        const email = document.querySelector('.email').value;
        const emailDomain = document.querySelector('select').value;
        const category = document.querySelector('.category').value;
        const task = document.querySelector('.task').value;

        let errorMsg = '';

        if (!id) errorMsg += '아이디를 입력하세요.\n';
        if (!password) errorMsg += '비밀번호를 입력하세요.\n';
        if (password !== passwordConfirm) errorMsg += '비밀번호가 일치하지 않습니다.\n';
        if (!name) errorMsg += '이름을 입력하세요.\n';
        if (!telPart1 || !telPart2 || !telPart3) errorMsg += '전화번호를 입력하세요.\n';
        if (!email) errorMsg += '이메일을 입력하세요.\n';
        if (!emailDomain) errorMsg += '이메일 도메인을 선택하세요.\n';
        if (!category) errorMsg += '관심분야를 선택하세요.\n';
        if (!task) errorMsg += '직무를 선택하세요.\n';

        if (errorMsg) {
            alert(errorMsg);
            return false;
        } else {
            alert('가입 성공!');
            window.location.href = 'login';
            return false;
        }
    }
</script>
</head>
<body>
<form onsubmit="return validateForm()">
    <table>
    <tr>
        <td><h2>회원가입</h2></td>
    </tr>
    <tr><td>아이디</td></tr>
    <tr><td><input type="text" class="text"></td></tr>
    <tr><td>비밀번호</td></tr>
    <tr><td><input type="password" class="text"></td></tr>
    <tr><td>비밀번호 확인</td></tr>
    <tr><td><input type="password" class="text"></td></tr>
    <tr><td>이름</td></tr>
    <tr><td><input type="text" class="text"></td></tr>
    <tr><td>전화번호</td></tr>
    <tr>
        <td>
            <div class="tel-container">
                <input type="text" class="tel-text" maxlength="3"> -
                <input type="text" class="tel-text" maxlength="4"> -
                <input type="text" class="tel-text" maxlength="4">
            </div>
        </td>
    </tr>
    <tr><td>이메일</td></tr>
    <tr>
        <td><input type="text" class="email"> @ 
            <select>
                <option value="">선택</option>
                <option>naver.com</option>
                <option>gmail.com</option>
                <option>daum.net</option>
                <option>nate.com</option>
            </select>
        </td>
    </tr>
    <tr><td>관심분야</td></tr>
    <tr>
        <td>
            <select class="category" onchange="updateTasks()">
                <option value="">선택</option>
                <option>AI</option>
                <option>IT</option>
                <option>기계/제조</option>
                <option>전기/전자</option>
                <option>재료/나노</option>
                <option>생명과학/생명공학</option>
                <option>에너지/환경</option>
                <option>건축/토목</option>
                <option>항공/우주</option>
                <option>로봇공학/자동화</option>
                <option>화학공학</option>
                <option>자연과학</option>
            </select>
        </td>
    <tr>
    <tr><td>직무</td></tr>
    <tr>
        <td>
            <select class="task">
                <option value="">선택</option>
            </select>
        </td>
    <tr><td><input type="submit" value="가입하기" class="btn"></td></tr>
    </table>
</form>
</body>
</html>
